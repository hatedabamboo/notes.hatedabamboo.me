{% extends "layouts/base.njk" %}

{% block content %}
<div class="post-container">
  <div class="post-left-sidebar"></div>
  
  <div class="post-main">
    {{ content | safe }}
  </div>
  
  <div class="post-right-sidebar">
    <div class="post-toc">
      <h3>Years</h3>
      <ul>
        {% set postsByYear = collections.posts | groupBy('date', 'year') %}
        {% for year, posts in postsByYear | dictsort | reverse %}
        <li>
          <a href="/archive/{{ year }}/">{{ year }}</a>
        </li>
        {% endfor %}
      </ul>
    </div>
  </div>
</div>
{% endblock %}